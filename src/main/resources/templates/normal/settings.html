<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	th:replace="normal/base::layout(~{::section})">
<head>
<meta charset="UTF-8" />
<title>Settings Page</title>
</head>
<body>
	<section>
		<div class="container">
			<div class="row">
				<div class="col-md-12">
					<div class="card">
						<div class="card-body">
							<div th:if="${session.message}"
								th:classappend="${session.message.type}" class="alert"
								role="alert">
								<p class="text-center" th:text="${session.message.content}"></p>
								<th:block th:text="${#session.removeAttribute('message')}"></th:block>
							</div>
							<h3 class="mb-3">Change Password</h3>


							<form th:action="@{/user/change-password}" method="post">

								<!-- old password field -->
								<div class="col-12">
									<div class="input-group mb-3">
										<div class="input-group-prepend">
											<span class="input-group-text" id="basic-addon1"><i
												class="fas fa-lock"></i></span>
										</div>
										<input name="oldPassword" type="password" value=""
											class="input form-control" id="password1"
											placeholder="Enter old password" required="true"
											aria-label="password" aria-describedby="basic-addon1" />
										<div class="input-group-append">
											<span class="input-group-text"
												onclick="password_show_hide1();"> <i
												class="fas fa-eye" id="show_eye"></i> <i
												class="fas fa-eye-slash d-none" id="hide_eye"></i>
											</span>
										</div>
									</div>
								</div>

								<!-- New Password -->
								<div class="col-12">
									<div class="input-group mb-3">
										<div class="input-group-prepend">
											<span class="input-group-text" id="basic-addon1"><i
												class="fas fa-lock"></i></span>
										</div>
										<input name="newPassword" type="password" value=""
											class="input form-control" id="password2"
											placeholder="Enter new password" required="true"
											aria-label="password" aria-describedby="basic-addon1" />
										<div class="input-group-append">
											<span class="input-group-text"
												onclick="password_show_hide2();"> <i
												class="fas fa-eye" id="show_eye"></i> <i
												class="fas fa-eye-slash d-none" id="hide_eye"></i>
											</span>
										</div>
									</div>
								</div>
								<div class="container text-center">
									<button type="submit" class="btn btn-success">Change</button>
									<button type="reset" class="btn btn-warning">Reset</button>
								</div>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
		<script>
		$(document).ready(()=>{
		    $(".item").removeClass("active");
		    $("#settings-link").addClass("active");
		});
		</script>
		<script>
		function password_show_hide1() {
			  var x = document.getElementById("password1");
			  var show_eye = document.getElementById("show_eye");
			  var hide_eye = document.getElementById("hide_eye");
			  hide_eye.classList.remove("d-none");
			  if (x.type === "password") {
			    x.type = "text";
			    show_eye.style.display = "none";
			    hide_eye.style.display = "block";
			  } else {
			    x.type = "password";
			    show_eye.style.display = "block";
			    hide_eye.style.display = "none";
			  }
			};
			function password_show_hide2() {
				  var x = document.getElementById("password2");
				  var show_eye = document.getElementById("show_eye");
				  var hide_eye = document.getElementById("hide_eye");
				  hide_eye.classList.remove("d-none");
				  if (x.type === "password") {
				    x.type = "text";
				    show_eye.style.display = "none";
				    hide_eye.style.display = "block";
				  } else {
				    x.type = "password";
				    show_eye.style.display = "block";
				    hide_eye.style.display = "none";
				  }
				}
		</script>
	</section>
</body>
</html>